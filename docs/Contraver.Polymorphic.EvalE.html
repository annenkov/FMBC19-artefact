<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/annenkov/FMBC19-artefact/" target="_balnk">Project Page</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Contraver.Polymorphic.EvalE</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab18"></a><h1 class="section">Interpreter for the Oak language</h1>

<div class="paragraph"> </div>

 This version of the interpreter supports polymorhpic types 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Contraver.Polymorphic.Ast.html#"><span class="id" title="library">Polymorphic.Ast</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#"><span class="id" title="library">MyEnv</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;we&nbsp;use&nbsp;definition&nbsp;of&nbsp;monads&nbsp;from&nbsp;Template&nbsp;Coq,<br/>
&nbsp;&nbsp;&nbsp;but&nbsp;(as&nbsp;actually&nbsp;comment&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">monad_utils</span></span>&nbsp;says,&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;should&nbsp;use&nbsp;a&nbsp;real&nbsp;monad&nbsp;library)&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Template.monad_utils</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MonadNotation</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Common&nbsp;definitions&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="res"><span class="id" title="inductive">res</span></a> <span class="id" title="var">A</span> :=<br/>
| <a name="Ok"><span class="id" title="constructor">Ok</span></a> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a><br/>
| <a name="NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a><br/>
| <a name="EvalError"><span class="id" title="constructor">EvalError</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="res_monad"><span class="id" title="instance">res_monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">ret</span> := @<a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="res_map"><span class="id" title="definition">res_map</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="option_to_res"><span class="id" title="definition">option_to_res</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">o</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">msg</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#o"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#msg"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="todo"><span class="id" title="definition">todo</span></a> {<span class="id" title="var">A</span>} := <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) "Not implemented".<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="InterpreterEnvList"><span class="id" title="module">InterpreterEnvList</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">program_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A type of labels to distinguish closures corresponding to lambdas and fixpoints 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.clos_mode"><span class="id" title="inductive">clos_mode</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> | <a name="InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> : <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#clos_mode"><span class="id" title="inductive">clos_mode</span></a>.<br/>

<br/>
</div>

<div class="doc">
Values 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> : <a class="idref" href="Contraver.Polymorphic.Ast.html#inductive"><span class="id" title="definition">inductive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a>   : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.clos_mode"><span class="id" title="inductive">clos_mode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><span class="comment">(*&nbsp;type&nbsp;of&nbsp;the&nbsp;domain&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><span class="comment">(*&nbsp;type&nbsp;of&nbsp;the&nbsp;codomain&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vTyClos"><span class="id" title="constructor">vTyClos</span></a> : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vTy"><span class="id" title="constructor">vTy</span></a> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span>: <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;Extend&nbsp;this&nbsp;to&nbsp;handle&nbsp;type&nbsp;lambdas&nbsp;and&nbsp;types&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vokClosLam"><span class="id" title="constructor">vokClosLam</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> <span class="id" title="var">nm</span> ρ <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vokClosFix"><span class="id" title="constructor">vokClosFix</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> <span class="id" title="var">nm</span> <span class="id" title="var">fixname</span> ρ <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#fixname"><span class="id" title="variable">fixname</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vokContr"><span class="id" title="constructor">vokContr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">nm</span> <span class="id" title="var">vs</span> <span class="id" title="var">ci</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ci"><span class="id" title="variable">ci</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#vs"><span class="id" title="variable">vs</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.env_ok"><span class="id" title="definition">env_ok</span></a> <span class="id" title="var">Σ</span> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) := <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>.<br/>

<br/>
</div>

<div class="doc">
An induction principle that takes into account nested occurrences of elements of <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a></span> in the list of arguments of <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a></span> and in the environment of <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.val_ind_full"><span class="id" title="definition">val_ind_full</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hconstr</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#inductive"><span class="id" title="definition">inductive</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hclos</span> : <span class="id" title="keyword">forall</span> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">cm</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.clos_mode"><span class="id" title="inductive">clos_mode</span></a>) (<span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>) (<span class="id" title="var">e0</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#cm"><span class="id" title="variable">cm</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e0"><span class="id" title="variable">e0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Htyclos</span> : <span class="id" title="keyword">forall</span> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">e0</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTyClos"><span class="id" title="constructor">vTyClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e0"><span class="id" title="variable">e0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hty</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>),  <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#t"><span class="id" title="variable">t</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">v</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>, <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#v"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fix</span> <span class="id" title="var">val_ind_fix</span> (<span class="id" title="var">v</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) := <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Htyclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
For some reason, this is not a part of the standard lib 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="InterpreterEnvList.Forall_app"><span class="id" title="lemma">Forall_app</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l2"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l2"><span class="id" title="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl1</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl1</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="InterpreterEnvList.Forall_rev"><span class="id" title="lemma">Forall_rev</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>} <span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#l"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.Forall_app"><span class="id" title="lemma">Forall_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.ind_name"><span class="id" title="definition">ind_name</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind_name</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ind_name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string</span>.<br/>

<br/>
</div>

<div class="doc">
Very simple implementation of pattern-matching. Note that we do not match on parameters of constructors coming from parameterised inductives 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.match_pat"><span class="id" title="definition">match_pat</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">cn</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">nparam</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">arity</span> :<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constr_args</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">bs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Contraver.Polymorphic.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pe</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>).(<a class="idref" href="Contraver.Polymorphic.Ast.html#pName"><span class="id" title="projection">pName</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#cn"><span class="id" title="variable">cn</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#bs"><span class="id" title="variable">bs</span></a>) (<a class="idref" href="Contraver.Polymorphic.EvalE.html#cn"><span class="id" title="variable">cn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": not found")<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Contraver.Polymorphic.EvalE.html#pe"><span class="id" title="variable">pe</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ctr_len</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#constr_args"><span class="id" title="variable">constr_args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pt_len</span> := <a class="idref" href="Contraver.Polymorphic.EvalE.html#nparam"><span class="id" title="variable">nparam</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="Contraver.Polymorphic.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">arity_len</span> := <a class="idref" href="Contraver.Polymorphic.EvalE.html#nparam"><span class="id" title="variable">nparam</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#arity"><span class="id" title="variable">arity</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ctr_len"><span class="id" title="variable">ctr_len</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#pt_len"><span class="id" title="variable">pt_len</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ctr_len"><span class="id" title="variable">ctr_len</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#arity_len"><span class="id" title="variable">arity_len</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;first&nbsp;<span class="inlinecode"><span class="id" title="var">nparam</span></span>&nbsp;elements&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">constr_args</span></span>&nbsp;are&nbsp;types,&nbsp;so&nbsp;we&nbsp;don't&nbsp;match&nbsp;them&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">args</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">skipn</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#nparam"><span class="id" title="variable">nparam</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#constr_args"><span class="id" title="variable">constr_args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">assignments</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="Contraver.Polymorphic.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#args"><span class="id" title="variable">args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Polymorphic.EvalE.html#assignments"><span class="id" title="variable">assignments</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#cn"><span class="id" title="variable">cn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": constructor arity does not match")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#cn"><span class="id" title="variable">cn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ": pattern arity does not match (constructor: "<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="definition">utils.string_of_nat</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ctr_len"><span class="id" title="variable">ctr_len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ",
                    pattern: "  <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="definition">utils.string_of_nat</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#pt_len"><span class="id" title="variable">pt_len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ")").<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.inductive_name"><span class="id" title="definition">inductive_name</span></a> (<span class="id" title="var">ty</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#name"><span class="id" title="definition">name</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">nm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#inductive_name"><span class="id" title="definition">inductive_name</span></a> <span class="id" title="var">ty1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Some machinery to substitute type during the evaluation. Although we don't care about the type during evaluation, we need the types later. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (<span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">ty</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ty</span> =&gt; <span class="id" title="var">ty'</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="Contraver.Polymorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Polymorphic.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty'"><span class="id" title="variable">ty'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty2'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty1'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Polymorphic.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1'"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2'"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Lib.MyEnv.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;we&nbsp;pass&nbsp;<span class="inlinecode">1+<span class="id" title="var">k</span></span>&nbsp;for&nbsp;the&nbsp;ty2&nbsp;evaluation<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;due&nbsp;to&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">indexify</span></span>&nbsp;function&nbsp;(see&nbsp;comments&nbsp;there)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty2'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="Contraver.Polymorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty1'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_i"><span class="id" title="definition">eval_type_i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Contraver.Polymorphic.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1'"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2'"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The same as <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.eval_type_i"><span class="id" title="definition">eval_type_i</span></a></span> but for named variables 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.eval_type_n"><span class="id" title="definition">eval_type_n</span></a> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">ty</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <span class="id" title="var">ty</span> =&gt; <span class="id" title="var">ty'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#remove_by_key"><span class="id" title="definition">remove_by_key</span></a> <span class="id" title="var">x</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Polymorphic.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty'"><span class="id" title="variable">ty'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty2'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty1'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Polymorphic.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1'"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2'"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">nm</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Lib.MyEnv.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">i</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty2'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty2</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty1'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#eval_type_n"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty1</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Contraver.Polymorphic.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty1'"><span class="id" title="variable">ty1'</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty2'"><span class="id" title="variable">ty2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.print_type"><span class="id" title="definition">print_type</span></a> (<span class="id" title="var">ty</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyInd"><span class="id" title="constructor">tyInd</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyForall"><span class="id" title="constructor">tyForall</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; "forall " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyApp"><span class="id" title="constructor">tyApp</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; "(" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyVar"><span class="id" title="constructor">tyVar</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyRel"><span class="id" title="constructor">tyRel</span></a> <span class="id" title="var">x</span> =&gt; "^" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="definition">utils.string_of_nat</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#tyArr"><span class="id" title="constructor">tyArr</span></a> <span class="id" title="var">x</span> <span class="id" title="var">x0</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> "-&gt;" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">x0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
The interpreter works for both named and nameless representation of Oak expressions, depending on a parameter <span class="inlinecode"><a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a></span>. Due to the potential non-termination of Oak programs, we define our interpreter using a fuel idiom: by structural recursion on an additional argument (a natural number). We keep types in during evaluation, because for the soundness theorem we would have to translate values back to expression and then further to MetaCoq terms. This requires us to keep all types in place. In addition to this interpreter, we plan to implement another one which computes on terms after erasure of typing information. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> (<span class="id" title="var">fuel</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">named</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">Σ</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Contraver.Polymorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#fuel"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Indices as variables are not supported"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">i</span>) ("var not found")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="Contraver.Lib.MyEnv.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">nm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " - var not found")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<span class="id" title="var">nm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " variable found, but named variables are not supported")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;we&nbsp;pass&nbsp;the&nbsp;same&nbsp;type&nbsp;as&nbsp;the&nbsp;codomain&nbsp;type&nbsp;here<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(because&nbsp;it's&nbsp;not&nbsp;needed&nbsp;for&nbsp;lambda).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maybe&nbsp;separate&nbsp;costructors&nbsp;for&nbsp;lambda/fixpoint&nbsp;closures&nbsp;would&nbsp;be&nbsp;better?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e1</span> <span class="id" title="var">ty</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v2</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e2</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v1</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#v1"><span class="id" title="variable">v1</span></a>,<a class="idref" href="Contraver.Polymorphic.EvalE.html#v2"><span class="id" title="variable">v2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (ρ' <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v_fix</span> := (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (ρ' <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">fixname</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#v_fix"><span class="id" title="variable">v_fix</span></a><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTyClos"><span class="id" title="constructor">vTyClos</span></a> ρ' <span class="id" title="var">nm</span> <span class="id" title="var">b</span>, <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (ρ' <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">vs</span>, <span class="id" title="var">v</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> <span class="id" title="var">vs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "eApp : not a constructor or closure"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Polymorphic.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No constructor or inductive found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#todo"><span class="id" title="definition">todo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">e</span> <span class="id" title="var">bs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">c</span> <span class="id" title="var">vs</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Polymorphic.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">ci</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;:&nbsp;move&nbsp;cheking&nbsp;inductive&nbsp;names&nbsp;before<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolving&nbsp;the&nbsp;constructor&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ind_nm</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.inductive_name"><span class="id" title="definition">inductive_name</span></a> <span class="id" title="var">ind</span>) "not inductive"<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ind_nm"><span class="id" title="variable">ind_nm</span></a> <span class="id" title="var">ind'</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pm_res</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span> <span class="id" title="var">ci</span> <span class="id" title="var">vs</span> <span class="id" title="var">bs</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">var_assign</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Contraver.Polymorphic.EvalE.html#pm_res"><span class="id" title="variable">pm_res</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">var_assign</span>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> ("Expecting inductive " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ind_nm"><span class="id" title="variable">ind_nm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" but found " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">ind'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No constructor or inductive found in the global envirionment"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTy"><span class="id" title="constructor">vTy</span></a> <span class="id" title="var">ty</span>) =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> ("Discriminee cannot be a type : " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">ty</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Discriminee should evaluate to a constructor"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">v</span> =&gt; <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">fixname</span> <span class="id" title="var">vn</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">vn</span> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eTyLam"><span class="id" title="constructor">eTyLam</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTyClos"><span class="id" title="constructor">vTyClos</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Polymorphic.Ast.html#eTy"><span class="id" title="constructor">eTy</span></a> <span class="id" title="var">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">error</span> := "Error while evaluating type: " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.print_type"><span class="id" title="definition">print_type</span></a> <span class="id" title="var">ty</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="keyword">if</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.eval_type_n"><span class="id" title="definition">eval_type_n</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#error"><span class="id" title="variable">error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.eval_type_i"><span class="id" title="definition">eval_type_i</span></a> 0 <a class="idref" href="Contraver.Polymorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">ty</span>) <a class="idref" href="Contraver.Polymorphic.EvalE.html#error"><span class="id" title="variable">error</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty'</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><span class="id" title="notation">;;</span> <span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vTy"><span class="id" title="constructor">vTy</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#ty'"><span class="id" title="variable">ty'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.expr_eval_n"><span class="id" title="definition">expr_eval_n</span></a> <span class="id" title="var">n</span> := <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="var">n</span> := <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="InterpreterEnvList.Examples"><span class="id" title="module">Examples</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">BaseTypes</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">StdLib</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.Examples.prog1"><span class="id" title="definition">prog1</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Polymorphic.Ast.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">\</span></a><a class="idref" href="Contraver.Polymorphic.Ast.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">:</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#5a67c20fae665de9355aa131b6b33c35"><span class="id" title="notation">=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#36d4d19df69bf8b7bf6290e1525d30ce"><span class="id" title="notation">True</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#12321e8fcc034c18199a25989e13d3f5"><span class="id" title="notation">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#6830f0d443bf942a1aa31d690c8bb5c7"><span class="id" title="notation">False</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#47ea54cc13a9c1373d89098dfa649131"><span class="id" title="notation">True</span></a><a class="idref" href="Contraver.Polymorphic.Ast.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a> <a class="idref" href="Contraver.Polymorphic.Ast.html#47ea54cc13a9c1373d89098dfa649131"><span class="id" title="notation">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.Ast.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="InterpreterEnvList.Examples.eval_prog1_named"><span class="id" title="definition">eval_prog1_named</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.expr_eval_n"><span class="id" title="definition">InterpreterEnvList.expr_eval_n</span></a> 3 <a class="idref" href="Contraver.Polymorphic.Ast.html#47d0d78d4d530216364af042577b7f7e"><span class="id" title="definition">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.Examples.prog1"><span class="id" title="definition">prog1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">InterpreterEnvList.vConstr</span></a> "Coq.Init.Datatypes.bool" "false" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="InterpreterEnvList.Examples.eval_prog1_indexed"><span class="id" title="definition">eval_prog1_indexed</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.expr_eval_i"><span class="id" title="definition">InterpreterEnvList.expr_eval_i</span></a> 3 <a class="idref" href="Contraver.Polymorphic.Ast.html#47d0d78d4d530216364af042577b7f7e"><span class="id" title="definition">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="Contraver.Polymorphic.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.Examples.prog1"><span class="id" title="definition">prog1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Contraver.Polymorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">InterpreterEnvList.vConstr</span></a> "Coq.Init.Datatypes.bool" "false" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.Examples"><span class="id" title="module">Examples</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList"><span class="id" title="module">InterpreterEnvList</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
