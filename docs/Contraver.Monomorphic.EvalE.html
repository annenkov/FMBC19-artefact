<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/annenkov/FMBC19-artefact/" target="_balnk">Project Page</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Contraver.Monomorphic.EvalE</h1>

<div class="code">
</div>

<div class="doc">
<a name="lab6"></a><h1 class="section">Interpreter for the monomorphic fragment of the Oak langage</h1>

</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Relations.Relations.html#"><span class="id" title="library">Relations</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.Morphisms.html#"><span class="id" title="library">Morphisms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Contraver.Monomorphic.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#"><span class="id" title="library">MyEnv</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO:&nbsp;we&nbsp;use&nbsp;definition&nbsp;of&nbsp;monads&nbsp;from&nbsp;Template&nbsp;Coq,<br/>
&nbsp;&nbsp;&nbsp;but&nbsp;(as&nbsp;actually&nbsp;comment&nbsp;in&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">monad_utils</span></span>&nbsp;says,&nbsp;we<br/>
&nbsp;&nbsp;&nbsp;should&nbsp;use&nbsp;a&nbsp;real&nbsp;monad&nbsp;library)&nbsp;*)</span><br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Template.monad_utils</span>.<br/>

<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MonadNotation</span>.<br/>

<br/>
<span class="comment">(*&nbsp;Common&nbsp;definitions&nbsp;*)</span><br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="res"><span class="id" title="inductive">res</span></a> <span class="id" title="var">A</span> :=<br/>
| <a name="Ok"><span class="id" title="constructor">Ok</span></a> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a><br/>
| <a name="NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a><br/>
| <a name="EvalError"><span class="id" title="constructor">EvalError</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> {<span class="id" title="var">_</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="res_monad"><span class="id" title="instance">res_monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> :=<br/>
&nbsp;&nbsp;{ <span class="id" title="method">ret</span> := @<a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">r</span> <span class="id" title="var">f</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="res_map"><span class="id" title="definition">res_map</span></a> {<span class="id" title="var">A</span> <span class="id" title="var">B</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">r</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#B"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="option_to_res"><span class="id" title="definition">option_to_res</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>} (<span class="id" title="var">o</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">msg</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#o"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#msg"><span class="id" title="variable">msg</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="todo"><span class="id" title="definition">todo</span></a> {<span class="id" title="var">A</span>} := <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) "Not implemented".<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="InterpreterEnvList"><span class="id" title="module">InterpreterEnvList</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Basics</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">program_scope</span>.<br/>

<br/>
</div>

<div class="doc">
A type of labels to distinguish closures corresponding to lambdas and fixpoints 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.clos_mode"><span class="id" title="inductive">clos_mode</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> | <a name="InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> : <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#clos_mode"><span class="id" title="inductive">clos_mode</span></a>.<br/>

<br/>
</div>

<div class="doc">
Values 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> : <a class="idref" href="Contraver.Monomorphic.Ast.html#inductive"><span class="id" title="definition">inductive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a>   : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.clos_mode"><span class="id" title="inductive">clos_mode</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><span class="comment">(*&nbsp;type&nbsp;of&nbsp;the&nbsp;domain&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#type"><span class="id" title="inductive">type</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><span class="comment">(*&nbsp;type&nbsp;of&nbsp;the&nbsp;codomain&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#val"><span class="id" title="inductive">val</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">P</span>: <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Program.Basics.html#2e889d5867d2bfffb9f8d04b7b23cbd7"><span class="id" title="notation">∘</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>).<br/>

<br/>
</div>

<div class="doc">
Value is well-formed if expressions in closures are appropriately closed 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.val_ok"><span class="id" title="inductive">val_ok</span></a> <span class="id" title="var">Σ</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vokClosLam"><span class="id" title="constructor">vokClosLam</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> <span class="id" title="var">nm</span> ρ <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (1 <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vokClosFix"><span class="id" title="constructor">vokClosFix</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">e</span> <span class="id" title="var">nm</span> <span class="id" title="var">fixname</span> ρ <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#iclosed_n"><span class="id" title="definition">iclosed_n</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#fixname"><span class="id" title="variable">fixname</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a name="InterpreterEnvList.vokContr"><span class="id" title="constructor">vokContr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">nm</span> <span class="id" title="var">vs</span> <span class="id" title="var">ci</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ci"><span class="id" title="variable">ci</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs"><span class="id" title="variable">vs</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.env_ok"><span class="id" title="definition">env_ok</span></a> <span class="id" title="var">Σ</span> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) := <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val_ok"><span class="id" title="inductive">val_ok</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>.<br/>

<br/>
</div>

<div class="doc">
An induction principle that takes into account nested occurrences of elements of <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a></span> in the list of arguments of <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a></span> and in the environment of <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.val_ind_full"><span class="id" title="definition">val_ind_full</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hconstr</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#inductive"><span class="id" title="definition">inductive</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l"><span class="id" title="variable">l</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hclos</span> : <span class="id" title="keyword">forall</span> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">cm</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.clos_mode"><span class="id" title="inductive">clos_mode</span></a>) (<span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>) (<span class="id" title="var">e0</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.ForallEnv"><span class="id" title="definition">ForallEnv</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#cm"><span class="id" title="variable">cm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e0"><span class="id" title="variable">e0</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">v</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>, <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fix</span> <span class="id" title="var">val_ind_fix</span> (<span class="id" title="var">v</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) := <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hconstr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hclos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">val_ind_fix</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
For some reason, this is not a part of the standard lib 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="InterpreterEnvList.Forall_app"><span class="id" title="lemma">Forall_app</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">P</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l2"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l2"><span class="id" title="variable">l2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl1</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl1</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="InterpreterEnvList.Forall_rev"><span class="id" title="lemma">Forall_rev</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>} <span class="id" title="var">P</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#l"><span class="id" title="variable">l</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Forall_app"><span class="id" title="lemma">Forall_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.ind_name"><span class="id" title="definition">ind_name</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind_name</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ind_name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Very simple implementation of pattern-matching 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.match_pat"><span class="id" title="definition">match_pat</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">cn</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) (<span class="id" title="var">arity</span> :<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#type"><span class="id" title="inductive">type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">constr_args</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">bs</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#pat"><span class="id" title="record">pat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pe</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#find"><span class="id" title="definition">find</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>).(<a class="idref" href="Contraver.Monomorphic.Ast.html#pName"><span class="id" title="projection">pName</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#5886275aa8d678ebe8bc38ad41c652c0"><span class="id" title="notation">=?</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#cn"><span class="id" title="variable">cn</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#bs"><span class="id" title="variable">bs</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="Contraver.Monomorphic.EvalE.html#pe"><span class="id" title="variable">pe</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#andb"><span class="id" title="definition">andb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#constr_args"><span class="id" title="variable">constr_args</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="Contraver.Monomorphic.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Nat.html#eqb"><span class="id" title="definition">Nat.eqb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#constr_args"><span class="id" title="variable">constr_args</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#arity"><span class="id" title="variable">arity</span></a>))) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">assignments</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">combine</span></a> <span class="id" title="var">p</span>.(<a class="idref" href="Contraver.Monomorphic.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#constr_args"><span class="id" title="variable">constr_args</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#assignments"><span class="id" title="variable">assignments</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h2 class="section">The interpreter</h2>

<div class="paragraph"> </div>

 The interpreter works for both named and nameless representation of Oak expressions, depending on a parameter <span class="inlinecode"><a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a></span>. Due to the potential non-termination of Oak programs, we define our interpreter using a fuel idiom: by structural recursion on an additional argument (a natural number). 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> (<span class="id" title="var">fuel</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">named</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<span class="id" title="var">Σ</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#global_env"><span class="id" title="definition">global_env</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#fuel"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Indices as variables are not supported"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">i</span>) ("var not found")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#option_to_res"><span class="id" title="definition">option_to_res</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">(</span></a><span class="id" title="var">nm</span><a class="idref" href="Contraver.Lib.MyEnv.html#559c605ca8348f0014b85b9b7673d984"><span class="id" title="notation">)</span></a>) (<span class="id" title="var">nm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " - var not found")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> (<span class="id" title="var">nm</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> " variable found, but named variables are not supported")<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;we&nbsp;pass&nbsp;the&nbsp;same&nbsp;type&nbsp;as&nbsp;the&nbsp;codomain&nbsp;type&nbsp;here<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(because&nbsp;it's&nbsp;not&nbsp;needed&nbsp;for&nbsp;lambda).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maybe&nbsp;separate&nbsp;constructors&nbsp;for&nbsp;lambda/fixpoint&nbsp;closures&nbsp;would&nbsp;be&nbsp;better?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e1</span> <span class="id" title="var">ty</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">e2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span>), (<a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e2</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">b</span>), <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (ρ' <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><span class="id" title="notation">);;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>), <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v_fix</span> := (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ' <span class="id" title="var">nm</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span> <span class="id" title="notation">&lt;-</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (ρ' <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">fixname</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v_fix"><span class="id" title="variable">v_fix</span></a><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">#</span></a> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">[</span></a><span class="id" title="var">nm</span> <a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">~&gt;</span></a> <span class="id" title="var">v</span><a class="idref" href="Contraver.Lib.MyEnv.html#7ffa6db3c44edea188a5bbde52465055"><span class="id" title="notation">]</span></a>) <span class="id" title="var">b</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> <span class="id" title="var">vs</span>), <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">v</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> <span class="id" title="var">vs</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> <span class="id" title="var">msg</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a>,<span class="id" title="var">_</span> | <span class="id" title="var">_</span>, <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Monomorphic.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ctor</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No constructor or inductive found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#todo"><span class="id" title="definition">todo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ty</span> <span class="id" title="var">e</span> <span class="id" title="var">bs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">c</span> <span class="id" title="var">vs</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.Ast.html#resolve_constr"><span class="id" title="definition">resolve_constr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">ci</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO&nbsp;:&nbsp;move&nbsp;cheking&nbsp;inductive&nbsp;names&nbsp;before<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolving&nbsp;the&nbsp;constructor&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ind'</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.match_pat"><span class="id" title="definition">match_pat</span></a> <span class="id" title="var">c</span> <span class="id" title="var">ci</span> <span class="id" title="var">vs</span> <span class="id" title="var">bs</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">var_assign</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <span class="id" title="var">n</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#named"><span class="id" title="variable">named</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#app"><span class="id" title="abbreviation">List.app</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">var_assign</span>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No such constructor"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> ("Expecting inductive " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">ind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" but found " <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Strings.String.html#169ad156fbc6036a53a0338819a2b301"><span class="id" title="notation">++</span></a> <span class="id" title="var">ind'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "No constructor or inductive found in the global envirionment"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#EvalError"><span class="id" title="constructor">EvalError</span></a> "Discriminee should evaluate to a constructor"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">v</span> =&gt; <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">fixname</span> <span class="id" title="var">vn</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">vn</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span>) <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.expr_eval_n"><span class="id" title="definition">expr_eval_n</span></a> <span class="id" title="var">n</span> := <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.expr_eval_i"><span class="id" title="definition">expr_eval_i</span></a> <span class="id" title="var">n</span> := <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.expr_eval_general"><span class="id" title="definition">expr_eval_general</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h1 class="section">Converting values to expressions</h1>
 Proving soundness of the embedding requires comparing of values to the MetaCoq terms. In order to accomplish this we need some way of first instantiating all closures with the values contained in the environments for a given closure 
<div class="paragraph"> </div>

 Substitution of an environment to an expression. NOTE: assumes, that expression in <span class="inlinecode">ρ</span> are closed! 
</div>
<div class="code">

<br/>
&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.subst_env"><span class="id" title="definition">subst_env</span></a> (ρ : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>)) (<span class="id" title="var">e</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">e'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span>  =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Lib.MyEnv.html#lookup"><span class="id" title="definition">lookup</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">nm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> =&gt; <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#remove_by_key"><span class="id" title="definition">remove_by_key</span></a> <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e1</span> <span class="id" title="var">ty</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span>) <span class="id" title="var">ty</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#remove_by_key"><span class="id" title="definition">remove_by_key</span></a> <span class="id" title="var">nm</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">e'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <span class="id" title="var">nm_i</span> <span class="id" title="var">ty</span> <span class="id" title="var">e</span> <span class="id" title="var">bs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;this&nbsp;case&nbsp;is&nbsp;not&nbsp;complete!&nbsp;We&nbsp;ignore&nbsp;variables&nbsp;bound&nbsp;by&nbsp;patterns&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <span class="id" title="var">nm_i</span> <span class="id" title="var">ty</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">bs</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">v</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">v</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env"><span class="id" title="definition">subst_env</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#remove_by_key"><span class="id" title="definition">remove_by_key</span></a> <span class="id" title="var">v</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;NOTE:&nbsp;assumes,&nbsp;that&nbsp;expression&nbsp;in&nbsp;<span class="inlinecode">ρ</span>&nbsp;are&nbsp;closed!&nbsp;*)</span><br/>
&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> (<span class="id" title="var">k</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Nat.html#leb"><span class="id" title="definition">Nat.leb</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#from_option"><span class="id" title="definition">from_option</span></a> (<a class="idref" href="Contraver.Lib.MyEnv.html#lookup_i"><span class="id" title="definition">lookup_i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> (<span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#7825ccc99f23b0d30c9d40c317ba7af0"><span class="id" title="notation">-</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>)) (<a class="idref" href="Contraver.Monomorphic.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">else</span> <a class="idref" href="Contraver.Monomorphic.Ast.html#eRel"><span class="id" title="constructor">eRel</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span>  =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eVar"><span class="id" title="constructor">eVar</span></a> <span class="id" title="var">nm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">e1</span> <span class="id" title="var">ty</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eLetIn"><span class="id" title="constructor">eLetIn</span></a> <span class="id" title="var">nm</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span>) <span class="id" title="var">ty</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eApp"><span class="id" title="constructor">eApp</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e1</span>) (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">e2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="keyword">as</span> <span class="id" title="var">e'</span> =&gt; <span class="id" title="var">e'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eConst"><span class="id" title="constructor">eConst</span></a> <span class="id" title="var">nm</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <span class="id" title="var">nm_i</span> <span class="id" title="var">ty</span> <span class="id" title="var">e</span> <span class="id" title="var">bs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#eCase"><span class="id" title="constructor">eCase</span></a> <span class="id" title="var">nm_i</span> <span class="id" title="var">ty</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>).(<a class="idref" href="Contraver.Monomorphic.Ast.html#pVars"><span class="id" title="projection">pVars</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">bs</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">v</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">b</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">v</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.subst_env_i"><span class="id" title="definition">subst_env_i</span></a> := <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> 0.<br/>

<br/>
</div>

<div class="doc">
Converting from values back to expression. The most non-trivial part is to convert closures, for which we have to perform some form
     of substitution of values from the value environment (see <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EnvSubst.html#subst_env"><span class="id" title="definition">subst_env</span></a></span>, <span class="inlinecode"><a class="idref" href="Contraver.Polymorphic.EnvSubst.html#subst_env_i"><span class="id" title="definition">subst_env_i</span></a></span>). Inspired by the implementation of "A Certified Implementation of ML with Structural Polymorphism" by Jacques Garrigue. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.from_val"><span class="id" title="definition">from_val</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">vs</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#from_val"><span class="id" title="definition">from_val</span></a> <span class="id" title="var">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ <span class="id" title="var">nm</span> <span class="id" title="var">cm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">cm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">fixname</span> <span class="id" title="var">nm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env"><span class="id" title="definition">subst_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#from_val"><span class="id" title="definition">from_val</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ρ) <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.inst_env"><span class="id" title="definition">inst_env</span></a> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env"><span class="id" title="definition">subst_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.from_val"><span class="id" title="definition">from_val</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="InterpreterEnvList.from_val_i"><span class="id" title="definition">from_val_i</span></a> (<span class="id" title="var">v</span> : <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">vs</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#vars_to_apps"><span class="id" title="definition">vars_to_apps</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#eConstr"><span class="id" title="constructor">eConstr</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#from_val_i"><span class="id" title="definition">from_val_i</span></a> <span class="id" title="var">vs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> ρ <span class="id" title="var">nm</span> <span class="id" title="var">cm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">cm</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <span class="id" title="var">nm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <span class="id" title="var">fixname</span> =&gt; <a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <span class="id" title="var">fixname</span> <span class="id" title="var">nm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env_i"><span class="id" title="definition">subst_env_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#from_val_i"><span class="id" title="definition">from_val_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) ρ) <a class="idref" href="Contraver.Monomorphic.EvalE.html#res"><span class="id" title="variable">res</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="148b7e8c80d98cf8cfda01bba0822aaa"><span class="id" title="notation">&quot;</span></a>e .[ ρ ] n " := (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env_i_aux"><span class="id" title="definition">subst_env_i_aux</span></a> <span class="id" title="var">n</span> ρ <span class="id" title="var">e</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.inst_env_i"><span class="id" title="definition">inst_env_i</span></a> (ρ : <a class="idref" href="Contraver.Lib.MyEnv.html#env"><span class="id" title="definition">env</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a>) : <a class="idref" href="Contraver.Monomorphic.Ast.html#expr"><span class="id" title="inductive">expr</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env_i"><span class="id" title="definition">subst_env_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.from_val_i"><span class="id" title="definition">from_val_i</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#x"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#1af91fb19f8f622aa9ec8998986a6bf9"><span class="id" title="variable">ρ</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#e"><span class="id" title="variable">e</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Notation</span> <a name="cccc6698bd12d0a8e283d85d1fa3d981"><span class="id" title="notation">&quot;</span></a>e .[ ρ ]" := (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.subst_env_i"><span class="id" title="definition">subst_env_i</span></a> ρ <span class="id" title="var">e</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
</div>

<div class="doc">
Values are equivalent up to subsitution of corresponding environments in closures 
</div>
<div class="code">
&nbsp;<span class="id" title="keyword">Module</span> <a name="InterpreterEnvList.Equivalence"><span class="id" title="module">Equivalence</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Reserved Notation</span> &quot;v1 ≈ v2" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="InterpreterEnvList.Equivalence.val_equiv"><span class="id" title="inductive">val_equiv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;| <a name="InterpreterEnvList.Equivalence.veqConstr"><span class="id" title="constructor">veqConstr</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> (<span class="id" title="var">vs1</span> <span class="id" title="var">vs2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v2"><span class="id" title="variable">v2</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a name="InterpreterEnvList.Equivalence.veqClosLam"><span class="id" title="constructor">veqClosLam</span></a> ρ1 ρ2 <span class="id" title="var">nm</span> <span class="id" title="var">ty1</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.inst_env_i"><span class="id" title="definition">inst_env_i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#5a56d21069e1b5979338388ca6da6341"><span class="id" title="variable">ρ1</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.inst_env_i"><span class="id" title="definition">inst_env_i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#624e74c7a399e3a88c70dbd629ccb3e9"><span class="id" title="variable">ρ2</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#eLambda"><span class="id" title="constructor">eLambda</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e2"><span class="id" title="variable">e2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;ty2&nbsp;used&nbsp;only&nbsp;by&nbsp;a&nbsp;fixpoint,&nbsp;so&nbsp;it&nbsp;doesn't&nbsp;matter&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">ty2</span> <span class="id" title="var">ty2'</span>, <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#5a56d21069e1b5979338388ca6da6341"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#624e74c7a399e3a88c70dbd629ccb3e9"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmLam"><span class="id" title="constructor">cmLam</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2'"><span class="id" title="variable">ty2'</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e2"><span class="id" title="variable">e2</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a name="InterpreterEnvList.Equivalence.veqClosFix"><span class="id" title="constructor">veqClosFix</span></a> ρ1 ρ2 <span class="id" title="var">n</span> <span class="id" title="var">ty1</span> <span class="id" title="var">ty2</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">fixname</span> <span class="id" title="var">ty2</span> , <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.inst_env_i"><span class="id" title="definition">inst_env_i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#5a56d21069e1b5979338388ca6da6341"><span class="id" title="variable">ρ1</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#fixname"><span class="id" title="variable">fixname</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.inst_env_i"><span class="id" title="definition">inst_env_i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#624e74c7a399e3a88c70dbd629ccb3e9"><span class="id" title="variable">ρ2</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#eFix"><span class="id" title="constructor">eFix</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#fixname"><span class="id" title="variable">fixname</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e2"><span class="id" title="variable">e2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">fixname</span>, <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#5a56d21069e1b5979338388ca6da6341"><span class="id" title="variable">ρ1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#fixname"><span class="id" title="variable">fixname</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vClos"><span class="id" title="constructor">vClos</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#624e74c7a399e3a88c70dbd629ccb3e9"><span class="id" title="variable">ρ2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.cmFix"><span class="id" title="constructor">cmFix</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#fixname"><span class="id" title="variable">fixname</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty1"><span class="id" title="variable">ty1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#ty2"><span class="id" title="variable">ty2</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#e2"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">where</span><br/>
&nbsp;&nbsp;&nbsp;"v1 ≈ v2" := (<a class="idref" href="Contraver.Monomorphic.EvalE.html#val_equiv"><span class="id" title="inductive">val_equiv</span></a> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a> <span class="id" title="var">vs1</span> <span class="id" title="var">vs2</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#Forall2"><span class="id" title="inductive">Forall2</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> =&gt; <a class="idref" href="Contraver.Monomorphic.EvalE.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v2"><span class="id" title="variable">v2</span></a>) <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">&quot;</span></a> vs1 ≈ₗ vs2 " := (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a> <span class="id" title="var">vs1</span> <span class="id" title="var">vs2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50).<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="InterpreterEnvList.Equivalence.val_equiv_reflexive"><span class="id" title="instance">val_equiv_reflexive</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.val_equiv"><span class="id" title="inductive">val_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">v</span> <span class="id" title="keyword">using</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val_ind_full"><span class="id" title="definition">val_ind_full</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">cm</span>;<span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;&nbsp;Add&nbsp;the&nbsp;rest&nbsp;to&nbsp;prove&nbsp;that&nbsp;<span class="inlinecode"><span class="id" title="var">val_equiv</span></span>&nbsp;is&nbsp;indeed&nbsp;an&nbsp;equivalence&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="InterpreterEnvList.Equivalence.val_equiv_symmetric"><span class="id" title="axiom">val_equiv_symmetric</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.val_equiv"><span class="id" title="inductive">val_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="InterpreterEnvList.Equivalence.val_equiv_transitive"><span class="id" title="axiom">val_equiv_transitive</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.val_equiv"><span class="id" title="inductive">val_equiv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">val_equiv_symmetric</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">val_equiv_transitive</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;&nbsp;Define&nbsp;these&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="InterpreterEnvList.Equivalence.list_val_equiv_reflexive"><span class="id" title="axiom">list_val_equiv_reflexive</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="InterpreterEnvList.Equivalence.list_val_equiv_symmetric"><span class="id" title="axiom">list_val_equiv_symmetric</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="InterpreterEnvList.Equivalence.list_val_equiv_transitive"><span class="id" title="axiom">list_val_equiv_transitive</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">list_val_equiv_reflexive</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">list_val_equiv_symmetric</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">list_val_equiv_transitive</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="InterpreterEnvList.Equivalence.list_val_compat"><span class="id" title="lemma">list_val_compat</span></a> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">vs1</span> <span class="id" title="var">vs2</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">≈ₗ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">)</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">≈ₗ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#cbcf67aac0c2a85b8d93d37de9969adf"><span class="id" title="notation">::</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="InterpreterEnvList.Equivalence.cons_compat"><span class="id" title="instance">cons_compat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.val_equiv"><span class="id" title="inductive">val_equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_compat"><span class="id" title="lemma">list_val_compat</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="InterpreterEnvList.Equivalence.constr_cons_compat"><span class="id" title="lemma">constr_cons_compat</span></a> (<span class="id" title="var">vs1</span> <span class="id" title="var">vs2</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.val"><span class="id" title="inductive">val</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#inductive"><span class="id" title="definition">inductive</span></a>) (<span class="id" title="var">nm</span> : <a class="idref" href="Contraver.Monomorphic.Ast.html#name"><span class="id" title="definition">name</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#9e12158b38ae3e3c20706af73a8f7ea4"><span class="id" title="notation">≈ₗ</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs1"><span class="id" title="variable">vs1</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">)</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">≈</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#vs2"><span class="id" title="variable">vs2</span></a><a class="idref" href="Contraver.Monomorphic.EvalE.html#aebd57ac5ba72f4c170faa4097a120a7"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="InterpreterEnvList.Equivalence.constr_morph"><span class="id" title="instance">constr_morph</span></a> <span class="id" title="var">i</span> <span class="id" title="var">nm</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.list_val_equiv"><span class="id" title="definition">list_val_equiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.val_equiv"><span class="id" title="inductive">val_equiv</span></a>) (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">vConstr</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#nm"><span class="id" title="variable">nm</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cbv</span>;<span class="id" title="tactic">intros</span>;<span class="id" title="tactic">apply</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence.constr_cons_compat"><span class="id" title="lemma">constr_cons_compat</span></a>;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.Equivalence"><span class="id" title="module">Equivalence</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList"><span class="id" title="module">InterpreterEnvList</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="Examples"><span class="id" title="module">Examples</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">BaseTypes</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">StdLib</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Examples.prog1"><span class="id" title="definition">prog1</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">[|</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">(</span></a><a class="idref" href="Contraver.Monomorphic.Ast.html#e2104e25ca71bbb1ffb86c7726ba5204"><span class="id" title="notation">\</span></a><a class="idref" href="Contraver.Monomorphic.Ast.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#e2104e25ca71bbb1ffb86c7726ba5204"><span class="id" title="notation">:</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#e2104e25ca71bbb1ffb86c7726ba5204"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">case</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#x"><span class="id" title="definition">x</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">:</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">return</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#BaseTypes.Bool"><span class="id" title="definition">Bool</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">of</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#f89098f6fc7bd0da391c412e1da11c37"><span class="id" title="notation">true</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#2001fe448950e5efb1324d8c77f0a9fd"><span class="id" title="notation">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">|</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#39ed910762f9bdbb2622a9e87e33839c"><span class="id" title="notation">false</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#decaa3b9884dd31ec0b158d946c8e148"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#0727f326399be52c6355016b3f0a6b7d"><span class="id" title="notation">true</span></a><a class="idref" href="Contraver.Monomorphic.Ast.html#d8c7a17158b575954bc29fcd16b46d59"><span class="id" title="notation">)</span></a> <a class="idref" href="Contraver.Monomorphic.Ast.html#0727f326399be52c6355016b3f0a6b7d"><span class="id" title="notation">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.Ast.html#143c2b826a30d37e0d680ea16616e805"><span class="id" title="notation">|]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="Examples.eval_prog1_named"><span class="id" title="definition">eval_prog1_named</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.expr_eval_n"><span class="id" title="definition">InterpreterEnvList.expr_eval_n</span></a> 3 <a class="idref" href="Contraver.Monomorphic.Ast.html#47d0d78d4d530216364af042577b7f7e"><span class="id" title="definition">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#Examples.prog1"><span class="id" title="definition">prog1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">InterpreterEnvList.vConstr</span></a> "Coq.Init.Datatypes.bool" "false" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Example</span> <a name="Examples.eval_prog1_indexed"><span class="id" title="definition">eval_prog1_indexed</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.expr_eval_i"><span class="id" title="definition">InterpreterEnvList.expr_eval_i</span></a> 3 <a class="idref" href="Contraver.Monomorphic.Ast.html#47d0d78d4d530216364af042577b7f7e"><span class="id" title="definition">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> (<a class="idref" href="Contraver.Monomorphic.Ast.html#indexify"><span class="id" title="definition">indexify</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#Examples.prog1"><span class="id" title="definition">prog1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="Contraver.Monomorphic.EvalE.html#Ok"><span class="id" title="constructor">Ok</span></a> (<a class="idref" href="Contraver.Monomorphic.EvalE.html#InterpreterEnvList.vConstr"><span class="id" title="constructor">InterpreterEnvList.vConstr</span></a> "Coq.Init.Datatypes.bool" "false" <a class="idref" href="http://coq.inria.fr/distrib/V8.10+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Contraver.Monomorphic.EvalE.html#Examples"><span class="id" title="module">Examples</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
